<div class="container my-5">
  <h2 class="h3 fw-bold mb-4">管理者向けグループ管理</h2>

  <div class="card shadow-sm p-4">
    
    <% if @groups.present? %>
      <div class="table-responsive">
        <table class="table table-hover align-middle">
          <thead class="table-light">
            <tr>
              <th>ID</th>
              <th>グループ名</th>
              <th>オーナー</th>
              <th>メンバー数</th>
              <th>作成日時</th>
              <th>操作</th>
            </tr>
          </thead>
          
          <tbody>
            <% @groups.each do |group| %>
              <tr>
                <td><%= group.id %></td>
                <td><%= link_to group.name, group_path(group), class: "text-decoration-none" %></td>
                <td><%= link_to group.owner.name, admin_member_path(group.owner), class: "text-decoration-none" %></td>
                <td><%= group.group_members.count %></td>
                <td><%= group.created_at.strftime('%Y/%m/%d') %></td>
                <td>
                  <%# ⭐ 削除ボタンの実装 ⭐ %>
                  <%= link_to '削除', 
                              admin_group_path(group), 
                              method: :delete, 
                              data: { 
                                confirm: "グループ名:「#{group.name}」を完全に削除します。よろしいですか？",
                                # Bootstrap Icons (オプション)
                                turbo: false # Rails 7+でTurboを使用している場合、method: :deleteには通常data: { turbo: true }ですが、確実に動作させるため今回はfalseとしています。
                              }, 
                              class: 'btn btn-sm btn-danger' %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% else %>
      <div class="alert alert-info text-center">
        現在、作成されているグループはありません。
      </div>
    <% end %>
    
  </div>
</div>